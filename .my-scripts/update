#!/bin/bash

echo " " ;
echo "==========================================="
echo "Ready to Update..."

# $OS is an environment variable that is set in my bashrc
echo "OS is $OS"
if [[ $OS  == "Debian" ]]; then
  echo "Using apt-get"
  echo ""
  echo "Updating Repos"
  echo "=============="
  sudo apt-get update
  echo "Updating System"
  echo "==============="
  sudo apt-get -y dist-upgrade
  echo "Autoremoving Obsolete Packages"
  echo "=============================="
  sudo apt-get -y autoremove
  echo "Performing autoclean"
  echo "===================="
  sudo apt-get -y autoclean
elif [[ $OS  == "Manjaro" ||
        $OS  == "Arch"
     ]]; then
  echo "Using pacman"
  echo ""
  echo "Updating Repos and System"
  echo "========================="
  sudo pacman -Syyu --noconfirm
  echo "Autoremoving obsolete packages and cleaning"
  echo "==========================================="
  sudo pacman -Rns --noconfirm $(pacman -Qqtd)
else
  echo "Could not determine what package manager to use."
  exit 1
fi

echo " "
echo "Update Complete!"
echo "==========================================="
